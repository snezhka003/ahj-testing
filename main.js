!function(){"use strict";function t(t){return t.split("")}function s(t){let s=0;return t.forEach((t=>{const i=Number(t);s+=i})),s}class i{constructor(t){this.str=t}checkValid(s){const i=t(this.str);return(s+Number(i[i.length-1]))%10==0}start(){const i=t(function(t){const s=t.length-1;return t.substring(0,s)}(this.str)).reverse(),{oddArr:r,evenArr:n}=function(t){const s=[],i=[];let r;for(let n=0;n<t.length;n+=1)n%2==0?(r=t[n],s.push(r)):(r=t[n],i.push(r));return{oddArr:s,evenArr:i}}(i),e=s(function(t){const s=[];return t.forEach((t=>{let i=2*t;i>9?(i-=9,s.push(i)):s.push(i)})),s}(r))+s(n);return this.checkValid(e)}}new class{constructor(t,s){this.input=document.getElementById(`${t}`),this.button=document.getElementById(`${s}`),this.cards=Array.from(document.querySelectorAll(".card"))}listenerInp(){this.input.addEventListener("input",(()=>{this.inpHandler(),this.input.className="input-valid"}))}inpHandler(){const{value:t}=this.input;t.value||this.cards.forEach((t=>{t.classList.remove("active")}));const s=this.identify(t);s&&this.changeClass(s)}identify(t){return this.name="identify",t.startsWith("37")||t.startsWith("34")?"amex":t.startsWith("31")||t.startsWith("35")?"jsb":t.startsWith("22")?"mir":t.startsWith("4")?"visa":t.startsWith("50")||t.startsWith("56")||t.startsWith("57")||t.startsWith("58")||t.startsWith("63")||t.startsWith("67")?"maestro":t.startsWith("51")||t.startsWith("52")||t.startsWith("53")||t.startsWith("54")||t.startsWith("55")?"master":t.startsWith("60")?"discover":!!(t.startsWith("30")||t.startsWith("36")||t.startsWith("38"))&&"dinersclub"}changeClass(t){this.cards.forEach((s=>{s.classList.contains(`${t}`)?s.classList.add("active"):s.classList.remove("active")}))}listenerBtn(){this.button.addEventListener("click",(t=>{t.preventDefault(),this.btnHandler()}))}btnHandler(){const{value:t}=this.input;new i(t).start()?(this.input.classList.remove("invalid"),this.input.classList.add("valid")):(this.input.classList.remove("valid"),this.input.classList.add("invalid"))}start(){this.listenerInp(),this.listenerBtn()}}("input","button").start()}();